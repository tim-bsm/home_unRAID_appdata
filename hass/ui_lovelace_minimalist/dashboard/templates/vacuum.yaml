---

# Define a template for a card that controls a vacuum entity.
# This template can be reused by setting the variables (e.g. "[[variable_name]]") accordingly.
template_card_vacuum:
  card:
    # TODO: implement a custom vacuum card
    # type: custom:button-card
    # template: card_vacuum
    # entity: "[[entity_vacuum]]"
    # variables:
    #   # ulm_card_vacuum_room: "script.clean_kitchen"
    #   # ulm_card_vacuum_room_icon: "mdi:table-chair"
    #   ulm_card_vacuum_camera: "[[card_vacuum]]"
    #   ulm_card_vacuum_camera_toggle: true



    type: "custom:vacuum-card"
    entity: "[[entity_vacuum]]"
    map: "[[entity_map]]"
    # compact_view: true
    actions:
      start:
        service: xiaomi_miio.vacuum_clean_segment
        service_data:
          entity_id: vacuum.vacuum_cleaner
          segments: [16, 20]
    stats:
      default:
        - attribute: filter_left
          unit: hours
          subtitle: Filter
        - attribute: side_brush_left
          unit: hours
          subtitle: Side brush
        - attribute: main_brush_left
          unit: hours
          subtitle: Main brush
        - attribute: sensor_dirty_left
          unit: hours
          subtitle: Sensors
      cleaning:
        - entity_id: sensor.vacuum_main_brush_left
          value_template: '{{ (value | float(0) / 3600) | round(1) }}'
          subtitle: Main brush
          unit: hours
        - attribute: cleaning_time
          unit: minutes
          subtitle: Cleaning time
    shortcuts:
      - name: Clean living room
        service: script.clean_living_room
        icon: 'mdi:sofa'
      - name: Clean bedroom
        service: script.clean_bedroom
        icon: 'mdi:bed-empty'
      - name: Clean kitchen
        service: script.clean_kitchen
        icon: 'mdi:silverware-fork-knife'