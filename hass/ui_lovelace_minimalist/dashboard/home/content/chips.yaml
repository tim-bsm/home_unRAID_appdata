---

# Chips as hyperlinks to popups and information cards
view_layout:
  grid-area: "chips"
type: "horizontal-stack"
cards:
  ###
  # Navigation
  ###

  # Center navigation on mobile
  - type: "custom:state-switch"
    entity: "mediaquery"
    states:
      "(max-width: 800px)":
        type: "custom:button-card"
        color_type: "blank-card"
  

  # Climate hyperlink to popup
  - type: "custom:button-card"
    template: "chip_navigate"
    label: "Climate"
    variables:
      ulm_chip_navigate_path: "#climate"
      ulm_chip_navigate_icon: "mdi:home-thermometer-outline"

  # Network hyperlink to popup
  - type: "custom:button-card"
    template: "chip_navigate"
    label: "Network"
    variables:
      ulm_chip_navigate_path: "#network"
      ulm_chip_navigate_icon: "mdi:lan"
  
  # Stats hyperlink to popup
  - type: "custom:button-card"
    template: "chip_navigate"
    label: "Stats"
    variables:
      ulm_chip_navigate_path: "#stats"
      ulm_chip_navigate_icon: "mdi:chart-arc"


  # Center navigation on mobile
  - type: "custom:state-switch"
    entity: "mediaquery"
    states:
      "(max-width: 800px)":
        type: "custom:button-card"
        color_type: "blank-card"


  ###
  # Other chips
  ###

  # Show update chip if updates are available
  - type: "custom:state-switch"
    entity: "mediaquery"
    states:
      # Don't show on mobile
      "(min-width: 800px)":
        type: "custom:state-switch"
        entity: "template"
        template: "{% if states('counter.updates_available') | float(0) > 0 %} updates_available {% endif %}"
        states:
          # Show nothing as default
          updates_available:
            # type: "custom:mod-card"
            # card_mod:
            #   style:
            #     layout-card$:
            #       grid-layout$: |
            #         :host {
            #           padding: 0rem !important;
            #         }
            #         #root {
            #           margin: 0rem !important;
            #         }
            #         #root > * {
            #           margin: 0.1rem !important;
            #         }
            # card:
            type: "custom:button-card"
            template: "chip_navigate"
            label: ""
            variables:
              ulm_chip_navigate_path: "#"
              ulm_chip_navigate_icon: "mdi:update"

  # Show waste only on desktop
  - type: "custom:state-switch"
    entity: "mediaquery"
    states:
      "(min-width: 800px)":
        type: "custom:trash-card"
        entities:
          - "calendar.mullkalender"
        layout: "horizontal"
        event_grouping: true
        next_days: 366 # search until one year in the future 
        day_style: "counter" # show days remaining and not date
        card_style: "chip"
        alignment_style: "right"
        color_mode: "icon"
        with_label: false
        # Define the waste types and their properties
        pattern:
          - type: "waste"
            label: "Restmüll"
            icon: "mdi:trash-can"
            color: "dark-grey"
            pattern: "Restmülltonne"
          
          - type: "organic"
            label: "Biomüll"
            icon: "mdi:leaf"
            color: "brown"
            pattern: "Biotonne"
          
          - type: "recycle"
            label: "Gelbe Tonne"
            icon: "mdi:recycle"
            color: "amber"
            pattern: "Gelbe Tonne"
          
          - type: "paper"
            label: "Papiertonne"
            icon: "mdi:newspaper-variant-multiple-outline"
            color: "indigo"
            pattern: "Papiertonne"
          
          - type: "others"
            label: "Christbäume"
            icon: "mdi:pine-tree"
            color: "green"
            pattern: "Christbäume"
