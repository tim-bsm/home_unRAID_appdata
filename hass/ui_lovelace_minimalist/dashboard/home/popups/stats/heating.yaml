---

# Use custom:mod-card to remove space created by nesting grids
# https://github.com/thomasloven/lovelace-layout-card/issues/137#issuecomment-1789629405
type: "custom:mod-card"
card_mod:
  style:
    layout-card$:
      grid-layout$: |
        :host {
          padding: 0rem !important;
        }
        #root {
          margin: 0rem !important;
        }
        #root > * {
          margin: 0.1rem !important;
        }
card:
  type: "custom:layout-card"
  layout_type: "grid"
  layout:
    # Define the amount of columns
    grid-template-columns: "repeat(3, 1fr)"
    grid-template-rows: "min-content"
    grid-gap: "calc(0.7em + 5px)" # 5px to compensate removed space for nesting grids
    # Use grid-template-areas to define the layout
    grid-template-areas: |
      "boiler_temp    heat_circuit3_is    mod_step"
    mediaquery:
      # Mobile
      "(max-width: 800px)":
        grid-template-columns: "100%"
        grid-template-rows: "min-content"
        grid-template-areas: |
          "boiler_temp"
          "heat_circuit3_is"
  # Cards for each underfloor heating entity
  cards:
    - !include "heating/boiler_temp.yaml"
    - !include "heating/heat_circuit3_is.yaml"
    - !include "heating/mod_step.yaml"